<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🦎 파충류 분양 마켓플레이스</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .header h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 10px;
        }

        .header p {
            color: #7f8c8d;
            text-align: center;
            font-size: 1.1rem;
        }

        .search-section {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .search-filters {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
        }

        .filter-group label {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .filter-group select,
        .filter-group input {
            padding: 10px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
        }

        .filter-group select:focus,
        .filter-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .search-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .marketplace-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .animal-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .animal-card:hover {
            transform: translateY(-5px);
        }

        .animal-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
        }

        .animal-info {
            padding: 20px;
        }

        .animal-name {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .animal-details {
            color: #7f8c8d;
            margin-bottom: 15px;
        }

        .animal-price {
            font-size: 1.3rem;
            font-weight: bold;
            color: #e74c3c;
            margin-bottom: 15px;
        }

        .animal-actions {
            display: flex;
            gap: 10px;
        }

        .btn-sm {
            padding: 8px 16px;
            font-size: 0.9rem;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 600px;
            position: relative;
        }

        .close {
            position: absolute;
            right: 20px;
            top: 20px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            color: #aaa;
        }

        .close:hover {
            color: #000;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .status-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .status-available {
            background: #d4edda;
            color: #155724;
        }

        .status-sold {
            background: #f8d7da;
            color: #721c24;
        }

        .status-reserved {
            background: #fff3cd;
            color: #856404;
        }

        .morph-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-bottom: 10px;
        }

        .morph-tag {
            background: #e3f2fd;
            color: #1976d2;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
        }

        .stats-section {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .stat-card {
            text-align: center;
            padding: 20px;
            border-radius: 10px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        @media (max-width: 768px) {
            .search-filters {
                grid-template-columns: 1fr;
            }
            
            .marketplace-grid {
                grid-template-columns: 1fr;
            }
            
            .animal-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🦎 파충류 분양 마켓플레이스</h1>
            <p>믿을 수 있는 브리더와 만나는 안전한 분양 플랫폼</p>
        </div>

        <div class="stats-section">
            <h3 style="margin-bottom: 20px; color: #2c3e50;">📊 마켓플레이스 현황</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalAnimals">0</div>
                    <div class="stat-label">등록된 개체</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="availableAnimals">0</div>
                    <div class="stat-label">분양 가능</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalBreeders">0</div>
                    <div class="stat-label">등록 브리더</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalSales">0</div>
                    <div class="stat-label">완료 거래</div>
                </div>
            </div>
        </div>

        <div class="search-section">
            <h3 style="margin-bottom: 20px; color: #2c3e50;">🔍 분양 검색</h3>
            <div class="search-filters">
                <div class="filter-group">
                    <label for="searchMorph">모프</label>
                    <select id="searchMorph">
                        <option value="">전체 모프</option>
                        <option value="노멀">노멀</option>
                        <option value="릴리화이트">릴리화이트</option>
                        <option value="세이블">세이블</option>
                        <option value="아잔틱">아잔틱</option>
                        <option value="할리퀸">할리퀸</option>
                        <option value="핀스트라이프">핀스트라이프</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="searchGender">성별</label>
                    <select id="searchGender">
                        <option value="">전체</option>
                        <option value="수컷">수컷</option>
                        <option value="암컷">암컷</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="searchGeneration">세대</label>
                    <select id="searchGeneration">
                        <option value="">전체 세대</option>
                        <option value="F1">F1</option>
                        <option value="F2">F2</option>
                        <option value="F3">F3</option>
                        <option value="F4">F4</option>
                        <option value="F5">F5</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="searchPrice">가격 범위</label>
                    <select id="searchPrice">
                        <option value="">전체 가격</option>
                        <option value="0-50000">5만원 이하</option>
                        <option value="50000-100000">5-10만원</option>
                        <option value="100000-200000">10-20만원</option>
                        <option value="200000-500000">20-50만원</option>
                        <option value="500000+">50만원 이상</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="searchStatus">상태</label>
                    <select id="searchStatus">
                        <option value="">전체 상태</option>
                        <option value="available">분양 가능</option>
                        <option value="reserved">예약 중</option>
                        <option value="sold">분양 완료</option>
                    </select>
                </div>
            </div>
            <div class="search-buttons">
                <button class="btn btn-primary" onclick="searchAnimals()">
                    <i class="fas fa-search"></i> 검색
                </button>
                <button class="btn btn-success" onclick="showAddListingModal()">
                    <i class="fas fa-plus"></i> 분양 등록
                </button>
                <button class="btn btn-primary" onclick="resetFilters()">
                    <i class="fas fa-refresh"></i> 필터 초기화
                </button>
            </div>
        </div>

        <div id="marketplaceResults" class="marketplace-grid">
            <!-- 검색 결과가 여기에 표시됩니다 -->
        </div>
    </div>

    <!-- 분양 등록 모달 -->
    <div id="addListingModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('addListingModal')">&times;</span>
            <h2 style="margin-bottom: 20px; color: #2c3e50;">📝 분양 등록</h2>
            
            <form id="addListingForm">
                <div class="form-group">
                    <label for="listingName">개체 이름 *</label>
                    <input type="text" id="listingName" required>
                </div>
                
                <div class="form-group">
                    <label for="listingMorph">모프 *</label>
                    <select id="listingMorph" required>
                        <option value="">모프 선택</option>
                        <option value="노멀">노멀</option>
                        <option value="릴리화이트">릴리화이트</option>
                        <option value="세이블">세이블</option>
                        <option value="아잔틱">아잔틱</option>
                        <option value="할리퀸">할리퀸</option>
                        <option value="핀스트라이프">핀스트라이프</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="listingGender">성별 *</label>
                    <select id="listingGender" required>
                        <option value="">성별 선택</option>
                        <option value="수컷">수컷</option>
                        <option value="암컷">암컷</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="listingGeneration">세대 *</label>
                    <select id="listingGeneration" required>
                        <option value="">세대 선택</option>
                        <option value="F1">F1</option>
                        <option value="F2">F2</option>
                        <option value="F3">F3</option>
                        <option value="F4">F4</option>
                        <option value="F5">F5</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="listingPrice">분양 가격 (원) *</label>
                    <input type="number" id="listingPrice" min="0" required>
                </div>
                
                <div class="form-group">
                    <label for="listingWeight">무게 (g)</label>
                    <input type="number" id="listingWeight" min="0">
                </div>
                
                <div class="form-group">
                    <label for="listingLength">길이 (cm)</label>
                    <input type="number" id="listingLength" min="0" step="0.1">
                </div>
                
                <div class="form-group">
                    <label for="listingDescription">상세 설명</label>
                    <textarea id="listingDescription" rows="4" placeholder="개체의 특징, 건강 상태, 사육 환경 등을 자세히 설명해주세요."></textarea>
                </div>
                
                <div class="form-group">
                    <label for="listingContact">연락처 *</label>
                    <input type="text" id="listingContact" placeholder="전화번호 또는 카카오톡 ID" required>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button type="submit" class="btn btn-success">
                        <i class="fas fa-check"></i> 분양 등록
                    </button>
                    <button type="button" class="btn btn-primary" onclick="closeModal('addListingModal')">
                        취소
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- 문의하기 모달 -->
    <div id="inquiryModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('inquiryModal')">&times;</span>
            <h2 style="margin-bottom: 20px; color: #2c3e50;">💬 문의하기</h2>
            
            <form id="inquiryForm">
                <div class="form-group">
                    <label for="inquiryName">이름 *</label>
                    <input type="text" id="inquiryName" required>
                </div>
                
                <div class="form-group">
                    <label for="inquiryContact">연락처 *</label>
                    <input type="text" id="inquiryContact" placeholder="전화번호 또는 카카오톡 ID" required>
                </div>
                
                <div class="form-group">
                    <label for="inquiryMessage">문의 내용 *</label>
                    <textarea id="inquiryMessage" rows="5" placeholder="분양에 대한 문의사항을 자세히 작성해주세요." required></textarea>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button type="submit" class="btn btn-success">
                        <i class="fas fa-paper-plane"></i> 문의 보내기
                    </button>
                    <button type="button" class="btn btn-primary" onclick="closeModal('inquiryModal')">
                        취소
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // 샘플 분양 데이터
        let marketplaceData = [
            {
                id: "listing_001",
                name: "루시퍼",
                morph: "노멀",
                gender: "수컷",
                generation: "F1",
                price: 80000,
                weight: 45,
                length: 18,
                status: "available",
                description: "건강한 번식용 수컷입니다. 온순한 성격으로 초보자도 쉽게 키울 수 있습니다.",
                contact: "010-1234-5678",
                breeder: "크레스티드게코 전문",
                createdAt: new Date().toISOString()
            },
            {
                id: "listing_002",
                name: "릴리화이트",
                morph: "릴리화이트",
                gender: "암컷",
                generation: "F1",
                price: 150000,
                weight: 42,
                length: 17,
                status: "available",
                description: "고품질 릴리화이트 암컷입니다. 번식용으로 최적의 상태입니다.",
                contact: "010-2345-6789",
                breeder: "프리미엄 게코",
                createdAt: new Date().toISOString()
            },
            {
                id: "listing_003",
                name: "세이블",
                morph: "세이블",
                gender: "수컷",
                generation: "F1",
                price: 120000,
                weight: 48,
                length: 19,
                status: "reserved",
                description: "세이블 모프의 우수한 개체입니다. 번식 성공률이 높습니다.",
                contact: "010-3456-7890",
                breeder: "게코 하우스",
                createdAt: new Date().toISOString()
            },
            {
                id: "listing_004",
                name: "아잔틱",
                morph: "아잔틱",
                gender: "암컷",
                generation: "F1",
                price: 200000,
                weight: 40,
                length: 16,
                status: "available",
                description: "희귀한 아잔틱 모프입니다. 건강 상태가 매우 좋습니다.",
                contact: "010-4567-8901",
                breeder: "엘리트 게코",
                createdAt: new Date().toISOString()
            },
            {
                id: "listing_005",
                name: "할리퀸",
                morph: "할리퀸",
                gender: "수컷",
                generation: "F1",
                price: 180000,
                weight: 46,
                length: 18.5,
                status: "sold",
                description: "할리퀸 모프의 최고 품질 개체입니다. 이미 분양 완료되었습니다.",
                contact: "010-5678-9012",
                breeder: "프리미엄 게코",
                createdAt: new Date().toISOString()
            }
        ];

        // 페이지 로드 시 초기화
        window.onload = function() {
            updateStats();
            displayMarketplace();
        };

        // 통계 업데이트
        function updateStats() {
            const totalAnimals = marketplaceData.length;
            const availableAnimals = marketplaceData.filter(item => item.status === 'available').length;
            const uniqueBreeders = [...new Set(marketplaceData.map(item => item.breeder))].length;
            const totalSales = marketplaceData.filter(item => item.status === 'sold').length;

            document.getElementById('totalAnimals').textContent = totalAnimals;
            document.getElementById('availableAnimals').textContent = availableAnimals;
            document.getElementById('totalBreeders').textContent = uniqueBreeders;
            document.getElementById('totalSales').textContent = totalSales;
        }

        // 마켓플레이스 표시
        function displayMarketplace(data = marketplaceData) {
            const container = document.getElementById('marketplaceResults');
            
            if (data.length === 0) {
                container.innerHTML = '<div style="text-align: center; padding: 40px; color: #7f8c8d;">검색 결과가 없습니다.</div>';
                return;
            }

            let html = '';
            data.forEach(item => {
                const statusBadge = getStatusBadge(item.status);
                const morphTags = getMorphTags(item.morph);
                
                html += `
                    <div class="animal-card">
                        <div class="animal-image">
                            <i class="fas fa-dragon"></i>
                        </div>
                        <div class="animal-info">
                            ${statusBadge}
                            <div class="animal-name">${item.name}</div>
                            <div class="animal-details">
                                ${item.gender} | ${item.generation} | ${item.weight}g | ${item.length}cm<br>
                                브리더: ${item.breeder}
                            </div>
                            ${morphTags}
                            <div class="animal-price">₩${item.price.toLocaleString()}</div>
                            <div class="animal-description">${item.description}</div>
                            <div class="animal-actions">
                                <button class="btn btn-primary btn-sm" onclick="showInquiryModal('${item.id}')">
                                    <i class="fas fa-comment"></i> 문의하기
                                </button>
                                <button class="btn btn-success btn-sm" onclick="viewDetails('${item.id}')">
                                    <i class="fas fa-eye"></i> 상세보기
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        // 상태 배지 생성
        function getStatusBadge(status) {
            const badges = {
                'available': '<span class="status-badge status-available">분양 가능</span>',
                'reserved': '<span class="status-badge status-reserved">예약 중</span>',
                'sold': '<span class="status-badge status-sold">분양 완료</span>'
            };
            return badges[status] || '';
        }

        // 모프 태그 생성
        function getMorphTags(morph) {
            return `<div class="morph-tags"><span class="morph-tag">${morph}</span></div>`;
        }

        // 검색 기능
        function searchAnimals() {
            const morph = document.getElementById('searchMorph').value;
            const gender = document.getElementById('searchGender').value;
            const generation = document.getElementById('searchGeneration').value;
            const price = document.getElementById('searchPrice').value;
            const status = document.getElementById('searchStatus').value;

            let filteredData = marketplaceData.filter(item => {
                if (morph && item.morph !== morph) return false;
                if (gender && item.gender !== gender) return false;
                if (generation && item.generation !== generation) return false;
                if (status && item.status !== status) return false;
                
                if (price) {
                    const [min, max] = price.split('-').map(p => p === '+' ? Infinity : parseInt(p));
                    if (item.price < min || (max !== Infinity && item.price > max)) return false;
                }
                
                return true;
            });

            displayMarketplace(filteredData);
        }

        // 필터 초기화
        function resetFilters() {
            document.getElementById('searchMorph').value = '';
            document.getElementById('searchGender').value = '';
            document.getElementById('searchGeneration').value = '';
            document.getElementById('searchPrice').value = '';
            document.getElementById('searchStatus').value = '';
            
            displayMarketplace();
        }

        // 분양 등록 모달 표시
        function showAddListingModal() {
            document.getElementById('addListingModal').style.display = 'block';
        }

        // 문의하기 모달 표시
        function showInquiryModal(listingId) {
            const listing = marketplaceData.find(item => item.id === listingId);
            if (listing) {
                document.getElementById('inquiryModal').style.display = 'block';
                // 문의 폼에 개체 정보 추가
                document.getElementById('inquiryMessage').placeholder = 
                    `${listing.name} (${listing.morph}) 분양에 대한 문의사항을 자세히 작성해주세요.`;
            }
        }

        // 모달 닫기
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // 상세보기
        function viewDetails(listingId) {
            const listing = marketplaceData.find(item => item.id === listingId);
            if (listing) {
                alert(`${listing.name} 상세 정보:\n\n` +
                      `모프: ${listing.morph}\n` +
                      `성별: ${listing.gender}\n` +
                      `세대: ${listing.generation}\n` +
                      `가격: ₩${listing.price.toLocaleString()}\n` +
                      `무게: ${listing.weight}g\n` +
                      `길이: ${listing.length}cm\n` +
                      `상태: ${getStatusText(listing.status)}\n` +
                      `브리더: ${listing.breeder}\n` +
                      `연락처: ${listing.contact}\n\n` +
                      `설명: ${listing.description}`);
            }
        }

        // 상태 텍스트 변환
        function getStatusText(status) {
            const statusTexts = {
                'available': '분양 가능',
                'reserved': '예약 중',
                'sold': '분양 완료'
            };
            return statusTexts[status] || status;
        }

        // 분양 등록 폼 제출
        document.getElementById('addListingForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newListing = {
                id: 'listing_' + Date.now(),
                name: document.getElementById('listingName').value,
                morph: document.getElementById('listingMorph').value,
                gender: document.getElementById('listingGender').value,
                generation: document.getElementById('listingGeneration').value,
                price: parseInt(document.getElementById('listingPrice').value),
                weight: parseInt(document.getElementById('listingWeight').value) || 0,
                length: parseFloat(document.getElementById('listingLength').value) || 0,
                status: 'available',
                description: document.getElementById('listingDescription').value,
                contact: document.getElementById('listingContact').value,
                breeder: '내 게코 하우스',
                createdAt: new Date().toISOString()
            };
            
            marketplaceData.unshift(newListing);
            displayMarketplace();
            updateStats();
            closeModal('addListingModal');
            
            // 폼 초기화
            document.getElementById('addListingForm').reset();
            
            alert('분양 등록이 완료되었습니다!');
        });

        // 문의하기 폼 제출
        document.getElementById('inquiryForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const inquiry = {
                name: document.getElementById('inquiryName').value,
                contact: document.getElementById('inquiryContact').value,
                message: document.getElementById('inquiryMessage').value,
                timestamp: new Date().toISOString()
            };
            
            // 실제로는 서버로 전송하지만 여기서는 로컬 스토리지에 저장
            const inquiries = JSON.parse(localStorage.getItem('marketplace_inquiries') || '[]');
            inquiries.push(inquiry);
            localStorage.setItem('marketplace_inquiries', JSON.stringify(inquiries));
            
            closeModal('inquiryModal');
            
            // 폼 초기화
            document.getElementById('inquiryForm').reset();
            
            alert('문의가 성공적으로 전송되었습니다!\n브리더가 곧 연락드릴 것입니다.');
        });

        // 모달 외부 클릭 시 닫기
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        };
    </script>
</body>
</html> 